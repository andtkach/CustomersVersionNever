services:
  customers-ui:
    container_name: customers-ui
    image: customers-ui
    restart: unless-stopped
    ports:
      - "20043:80"
    environment:
      - NODE_ENV=development
      - VITE_DATA_API_URL=${VITE_DATA_API_URL:-https://localhost:20061/data}
      - VITE_AUTH_API_URL=${VITE_AUTH_API_URL:-https://localhost:20061/auth}
      - VITE_STORAGE_API_URL=${VITE_STORAGE_API_URL:-https://localhost:20061/files}
      # - VITE_DATA_API_URL=${VITE_DATA_API_URL:-https://localhost:20011}
      # - VITE_AUTH_API_URL=${VITE_AUTH_API_URL:-https://localhost:20031}
      # - VITE_STORAGE_API_URL=${VITE_STORAGE_API_URL:-https://localhost:20051}

  azurite:
    container_name: azurite
    image: mcr.microsoft.com/azure-storage/azurite
    restart: unless-stopped
    environment:
      - AZURITE_ACCOUNTS=devstoreaccount1:U2VjcmV0S2V5MQ==
    ports:
      - "10000:10000" # blob
      - "10001:10001" # queue
      - "10002:10002" # table
    command: >
      azurite
      --blobHost 0.0.0.0
      --queueHost 0.0.0.0
      --tableHost 0.0.0.0
      -l /data
    volumes:
      - ./azurite-data:/data
